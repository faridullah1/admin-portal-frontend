<mat-card class="system-settings">
	<section class="nav">
		<ul>
			<li *ngFor="let item of menu" [class.active]="item === selectedMenu" (click)="onMenuSelect(item)">
				{{ item }}
			</li>
		</ul>
	</section>

	<section class="detail">
		<ng-container *ngIf="selectedMenu === 'Website Configurations'">
			<div class="logo-container">
				<img src="/assets/images/logo.jpg" alt="Logo" class="logo">
				<div class="name">{{ theForm.controls['academyName'].value }}</div>
			</div>

			<form [formGroup]="theForm" class="settings-form">
				<div fxLayout="row" fxLayoutAlign="space-between">
					<mat-form-field appearance="outline" class="field">
						<mat-label>Academy Name</mat-label>
						<input type="text" matInput placeholder="Academy Name" formControlName="academyName">
						<mat-error *ngIf="theForm.controls['academyName'].errors">
							<div *ngIf="theForm.controls['academyName'].hasError('required')">Academy Name is required.</div>
						</mat-error>
					</mat-form-field>

					<mat-form-field appearance="outline" class="field">
						<mat-label>Mobile Number</mat-label>
						<input type="text" matInput placeholder="Mobile Number" formControlName="mobileNo">
						<mat-error *ngIf="theForm.controls['mobileNo'].errors">
							<div *ngIf="theForm.controls['mobileNo'].hasError('required')">>Mobile Number is required.</div>
						</mat-error>
					</mat-form-field>
				</div>

				<div fxLayout="row" fxLayoutAlign="space-between">
					<mat-form-field appearance="outline" class="field">
						<mat-label>Email</mat-label>
						<input type="text" matInput placeholder="Email" formControlName="email">
						<mat-error *ngIf="theForm.controls['email'].errors">
							<div *ngIf="theForm.controls['email'].hasError('required')">Email is required.</div>
						</mat-error>
					</mat-form-field>

					<mat-form-field appearance="outline" class="field">
						<mat-label>Address</mat-label>
						<input type="text" matInput placeholder="Address" formControlName="address">
						<mat-error *ngIf="theForm.controls['address'].errors">
							<div *ngIf="theForm.controls['address'].hasError('required')">>Address is required.</div>
						</mat-error>
					</mat-form-field>
				</div>

				<div>
					<div class="avatar-container">
						<img [src]="theForm.controls['principleImage'].value || '/assets/images/avatar.jpg'" 
							alt="Principle Image" class="rounded-image">
						<input class="form-upload" type="file" accept="image/*" #principleImageInput (change)="onFileChange()">
						<label class="btn-text" (click)="onUploadFile('principle')">
							Choose principle photo
						</label>
					</div>

					<mat-form-field appearance="outline" class="width-h-p">
						<mat-label>Principle Message</mat-label>
						<textarea type="text" rows="4" matInput placeholder="Principle Message" formControlName="principleMessage"></textarea>
						<mat-error *ngIf="theForm.controls['principleMessage'].errors">
							<div *ngIf="theForm.controls['principleMessage'].hasError('required')">
								Principle Message is required.
							</div>
						</mat-error>
					</mat-form-field>
				</div>

				<div>
					<div class="avatar-container">
						<img [src]="theForm.controls['introductionImage'].value || '/assets/images/avatar.jpg'" 
							alt="Principle Image" class="rounded-image">
						<input class="form-upload" type="file" accept="image/*" #introductionImageInput (change)="onFileChange()">
						<label class="btn-text" (click)="onUploadFile('introduction')">
							Choose introductory photo
						</label>
					</div>

					<mat-form-field appearance="outline" class="width-h-p">
						<mat-label>Introduction</mat-label>
						<textarea type="text" rows="4" matInput placeholder="Introduction" formControlName="introduction"></textarea>
						<mat-error *ngIf="theForm.controls['introduction'].errors">
							<div *ngIf="theForm.controls['introduction'].hasError('required')">
								Introduction is required.
							</div>
						</mat-error>
					</mat-form-field>
				</div>
			</form>

			<div fxLayoutAlign="end">
				<button mat-raised-button color="primary" [disabled]="theForm.invalid || !theForm.dirty || disableSaveBtn" (click)="saveSettings()">
					<div fxLayout="row" fxLayoutAlign="start center">
						<span [class.mr-3]="disableSaveBtn">Save</span>
						<mat-spinner *ngIf="disableSaveBtn" diameter="25"></mat-spinner>
					</div>
				</button>
			</div>
		</ng-container>
	</section>
</mat-card>